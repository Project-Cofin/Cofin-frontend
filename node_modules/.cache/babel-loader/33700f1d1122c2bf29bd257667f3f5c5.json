{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/bitcamp/Desktop/cofin-msa-board/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _defineProperty from\"C:/Users/bitcamp/Desktop/cofin-msa-board/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/bitcamp/Desktop/cofin-msa-board/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/bitcamp/Desktop/cofin-msa-board/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _templateObject,_templateObject2;import React,{useEffect,useState}from'react';import'features/QnA/style/QnAWrite.css';import styled from\"styled-components\";import{CKEditor}from'@ckeditor/ckeditor5-react';import ClassicEditor from'@ckeditor/ckeditor5-build-classic';import{LayOut}from\"features/common\";import ReactHtmlParser from'react-html-parser';import Axios from'axios';import{Link}from\"react-router-dom\";import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function QnAWrite(){var navigate=useNavigate();var _useState=useState({title:'',content:''}),_useState2=_slicedToArray(_useState,2),QnAContent=_useState2[0],setQnAContent=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),viewContent=_useState4[0],setViewContent=_useState4[1];useEffect(function(){Axios.get('http://localhost:8000/api/get').then(function(response){setViewContent(response.data);});},[viewContent]);var submitQnA=function submitQnA(){Axios.post('http://localhost:8000/api/insert',{title:QnAContent.title,content:QnAContent.content}).then(function(resp){alert('글쓰기 성공');navigate.push('/QnA');}).catch(function(err){alert('글쓰기 실패');});};var getValue=function getValue(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setQnAContent(_objectSpread(_objectSpread({},QnAContent),{},_defineProperty({},name,value)));};return/*#__PURE__*/_jsxs(LayOut,{children:[viewContent.map(function(element){return/*#__PURE__*/_jsxs(\"div\",{className:\"title\",children:[/*#__PURE__*/_jsx(\"h2\",{children:element.title}),/*#__PURE__*/_jsx(\"div\",{className:\"cont\",children:ReactHtmlParser(element.content)})]});}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Table,{border:\"1\",width:\"1200\",align:\"center\",children:[/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"h2\",{children:\"QnA \\uAE00\\uC4F0\\uAE30\"})}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{width:\"50\",children:/*#__PURE__*/_jsxs(\"select\",{children:[/*#__PURE__*/_jsx(\"option\",{children:\"\\uC9C8\\uBB38\"}),/*#__PURE__*/_jsx(\"option\",{children:\"\\uBC31\\uC2E0\"}),/*#__PURE__*/_jsx(\"option\",{children:\"\\uCF54\\uB85C\\uB098 \\uD655\\uC9C4\"})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-wrapper\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"title-input\",type:\"text\",placeholder:\"\\uC81C\\uBAA9\",onChange:getValue,name:\"title\"}),/*#__PURE__*/_jsx(CKEditor,{\"min-height\":\"500px\",editor:ClassicEditor,data:\"<p></p>\",onReady:function onReady(editor){},onChange:function onChange(event,editor){var data=editor.getData();console.log({event:event,editor:editor,data:data});setQnAContent(_objectSpread(_objectSpread({},QnAContent),{},{content:data}));console.log(QnAContent);},onBlur:function onBlur(event,editor){console.log('Blur.',editor);},onFocus:function onFocus(event,editor){console.log('Focus.',editor);}}),/*#__PURE__*/_jsx(Button,{className:\"submit-button\",type:\"submit\",onClick:submitQnA,children:\"\\uC785\\uB825\"}),/*#__PURE__*/_jsx(Link,{to:\"/QnA\",children:/*#__PURE__*/_jsx(\"button\",{className:\"submit-button\",type:\"submit\",onClick:submitQnA,Link:true,to:\"/write\",children:\"\\uCDE8\\uC18C\"})})]})]}),/*#__PURE__*/_jsx(\"br\",{})]})]});}export default QnAWrite;var Table=styled.table(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    text-decoration: none;\\n\"])));var Button=styled.button(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    text-align: center;\\n\"])));","map":{"version":3,"sources":["C:/Users/bitcamp/Desktop/cofin-msa-board/frontend/src/features/QnA/components/QnAWrite.js"],"names":["React","useEffect","useState","styled","CKEditor","ClassicEditor","LayOut","ReactHtmlParser","Axios","Link","useNavigate","QnAWrite","navigate","title","content","QnAContent","setQnAContent","viewContent","setViewContent","get","then","response","data","submitQnA","post","resp","alert","push","catch","err","getValue","e","target","name","value","map","element","editor","event","getData","console","log","Table","table","Button","button"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react'\r\nimport 'features/QnA/style/QnAWrite.css'\r\nimport styled from \"styled-components\"\r\nimport { CKEditor } from '@ckeditor/ckeditor5-react';\r\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\r\nimport { LayOut } from \"features/common\";\r\nimport ReactHtmlParser from 'react-html-parser'\r\nimport Axios from 'axios';\r\nimport { Link } from \"react-router-dom\";\r\nimport  { useNavigate} from 'react-router-dom'; \r\n\r\n\r\nfunction QnAWrite(){   \r\n    const navigate = useNavigate();\r\n\r\n    const [QnAContent, setQnAContent] = useState({\r\n        title: '',\r\n        content: ''\r\n    })               \r\n\r\n    const [viewContent, setViewContent] = useState([]);\r\n\r\n    useEffect(()=>{\r\n        Axios.get('http://localhost:8000/api/get').then((response)=>{\r\n            setViewContent(response.data);\r\n        })\r\n    },[viewContent])\r\n\r\n    const submitQnA = () => {\r\n        Axios.post('http://localhost:8000/api/insert', {\r\n            title: QnAContent.title,\r\n            content: QnAContent.content\r\n        }).then( resp => {\r\n            alert('글쓰기 성공')\r\n            navigate.push('/QnA')\r\n            })\r\n            .catch(err => {\r\n            alert('글쓰기 실패')\r\n            })\r\n    };\r\n\r\n    const getValue = e => {\r\n        const { name, value } = e.target;\r\n        setQnAContent({\r\n            ...QnAContent,\r\n            [name]: value\r\n        })\r\n    \r\n    \r\n    };\r\n\r\n\r\n    return(\r\n    <LayOut>\r\n        {viewContent.map(element => \r\n                        <div className=\"title\">\r\n                            <h2>{element.title}</h2>\r\n                            <div className=\"cont\">\r\n                                {ReactHtmlParser(element.content)}\r\n                            </div>\r\n                        </div>)}\r\n        <div>\r\n            <br/><Table border=\"1\" width=\"1200\" align=\"center\">\r\n                <tr>\r\n                    <h2>\r\n                        QnA 글쓰기\r\n                    </h2>\r\n                </tr>\r\n                <tr>\r\n                    <td width=\"50\">\r\n                        <select>                   \r\n                            <option>질문</option>\r\n                            <option>백신</option>\r\n                            <option>코로나 확진</option>\r\n                        </select>                        \r\n                    </td>\r\n                    \r\n                </tr>\r\n                <div className='form-wrapper'>\r\n                    <input className=\"title-input\" type='text' placeholder='제목'  onChange={getValue} name='title'/>\r\n                    <CKEditor \r\n                    min-height= \"500px\"\r\n                    editor={ClassicEditor}\r\n                    data=\"<p></p>\"\r\n                    onReady={editor => {}}\r\n                    onChange={(event, editor) => {\r\n                        const data = editor.getData();\r\n                        console.log({ event, editor, data });\r\n                        setQnAContent({\r\n                            ...QnAContent,\r\n                            content: data\r\n                        })\r\n                        console.log(QnAContent);\r\n                    }}\r\n                    onBlur={(event, editor) => {\r\n                        console.log('Blur.', editor);\r\n                    }}\r\n                    onFocus={(event, editor) => {\r\n                        console.log('Focus.', editor);\r\n                    }}\r\n                    >\r\n                                       \r\n                    \r\n                    </CKEditor>\r\n                    \r\n                    <Button className=\"submit-button\" type=\"submit\"\r\n                    onClick={submitQnA}>입력</Button>\r\n                   \r\n\r\n                    <Link to=\"/QnA\" >\r\n                        <button className=\"submit-button\" type=\"submit\"\r\n                        onClick={submitQnA} Link to=\"/write\" >취소</button>\r\n                    </Link>\r\n                </div>         \r\n            </Table><br/>\r\n        </div>\r\n    </LayOut>\r\n)}\r\n\r\nexport default QnAWrite;\r\n\r\nconst Table = styled.table`\r\n    text-decoration: none;\r\n`\r\nconst Button = styled.button`\r\n    text-align: center;\r\n`\r\n"]},"metadata":{},"sourceType":"module"}
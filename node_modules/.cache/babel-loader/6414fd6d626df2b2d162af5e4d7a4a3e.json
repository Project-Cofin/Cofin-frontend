{"ast":null,"code":"\"use strict\";\n\nvar _slicedToArray = require(\"C:/Users/bitcamp/Desktop/cofin-msa-board/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PathTooltip = void 0;\n\nvar tslib_1 = require(\"tslib\");\n\nvar react_1 = tslib_1.__importStar(require(\"react\"));\n\nexports.PathTooltip = function (props) {\n  var _react_1$useState = react_1.useState(true),\n      _react_1$useState2 = _slicedToArray(_react_1$useState, 2),\n      hidden = _react_1$useState2[0],\n      setHidden = _react_1$useState2[1];\n\n  var _react_1$useState3 = react_1.useState({\n    x: 0,\n    y: 0,\n    w: 0,\n    h: 0,\n    isLeft: false,\n    isTop: false\n  }),\n      _react_1$useState4 = _slicedToArray(_react_1$useState3, 2),\n      tooltipRect = _react_1$useState4[0],\n      setTooltipRect = _react_1$useState4[1];\n\n  var _react_1$useState5 = react_1.useState(props[\"fontSize\"] || 12),\n      _react_1$useState6 = _slicedToArray(_react_1$useState5, 1),\n      fontSize = _react_1$useState6[0];\n\n  var _react_1$useState7 = react_1.useState(props[\"fontFamily\"] || \"sans-serif\"),\n      _react_1$useState8 = _slicedToArray(_react_1$useState7, 1),\n      fontFamily = _react_1$useState8[0];\n\n  var _react_1$useState9 = react_1.useState(props[\"bgColor\"] || \"black\"),\n      _react_1$useState10 = _slicedToArray(_react_1$useState9, 1),\n      bgColor = _react_1$useState10[0];\n\n  var _react_1$useState11 = react_1.useState(props[\"textColor\"] || \"white\"),\n      _react_1$useState12 = _slicedToArray(_react_1$useState11, 1),\n      textColor = _react_1$useState12[0];\n\n  var pathRef = props.pathRef;\n  var svgRef = props.svgRef;\n  var textRef = react_1.createRef();\n  react_1.useEffect(function () {\n    var updateTooltip = function updateTooltip(e) {\n      if (svgRef && pathRef && textRef && svgRef.current && pathRef.current && textRef.current) {\n        var svgRect = svgRef.current.getBoundingClientRect();\n        var textRect = textRef.current.getBoundingClientRect();\n        var isLeft = e.x - svgRect.x > svgRect.width / 2;\n        var isTop = e.y - svgRect.y > svgRect.height / 2;\n        var w = textRect.width + 20;\n        var h = textRect.height + 20;\n        var x = isLeft ? e.x - svgRect.x + 8 - w : e.x - svgRect.x - 8;\n        var y = isTop ? e.y - svgRect.y - 12 - h : e.y - svgRect.y + 8;\n        setTooltipRect({\n          x: x,\n          y: y,\n          w: w,\n          h: h,\n          isLeft: isLeft,\n          isTop: isTop\n        });\n      }\n    };\n\n    if (pathRef && pathRef.current) {\n      pathRef.current.addEventListener('mouseover', function () {\n        setHidden(false);\n      });\n      pathRef.current.addEventListener('mouseleave', function () {\n        setHidden(true);\n      });\n      pathRef.current.addEventListener('mousemove', function (e) {\n        if (!hidden) updateTooltip(e);\n      });\n    }\n  }, [pathRef, svgRef, textRef, hidden]);\n  var bottomRight = (tooltipRect.x + 7).toString() + \",\" + (tooltipRect.y - 10).toString() + \" \" + (tooltipRect.x + 30).toString() + \",\" + tooltipRect.y.toString() + \" \" + (tooltipRect.x + 22).toString() + \",\" + tooltipRect.y.toString();\n  var bottomLeft = (tooltipRect.x + tooltipRect.w - 8).toString() + \",\" + (tooltipRect.y - 10).toString() + \" \" + (tooltipRect.x + tooltipRect.w - 25).toString() + \",\" + tooltipRect.y.toString() + \" \" + (tooltipRect.x + tooltipRect.w - 15).toString() + \",\" + tooltipRect.y.toString();\n  var topRight = (tooltipRect.x + 7).toString() + \",\" + (tooltipRect.y + tooltipRect.h + 10).toString() + \" \" + (tooltipRect.x + 15).toString() + \",\" + (tooltipRect.y + tooltipRect.h).toString() + \" \" + (tooltipRect.x + 7).toString() + \",\" + (tooltipRect.y + tooltipRect.h).toString();\n  var topLeft = (tooltipRect.x + tooltipRect.w - 7).toString() + \",\" + (tooltipRect.y + tooltipRect.h + 10).toString() + \" \" + (tooltipRect.x + tooltipRect.w - 15).toString() + \",\" + (tooltipRect.y + tooltipRect.h).toString() + \" \" + (tooltipRect.x + tooltipRect.w - 7).toString() + \",\" + (tooltipRect.y + tooltipRect.h).toString();\n  var points = tooltipRect.isLeft && tooltipRect.isTop ? topLeft : tooltipRect.isTop ? topRight : tooltipRect.isLeft ? bottomLeft : bottomRight;\n\n  var findSpaceBeforeThreshold = function findSpaceBeforeThreshold(inputString, threshold) {\n    var i = 0;\n    var temp = -1;\n\n    if (inputString.length <= threshold) {\n      return [\"\", inputString];\n    }\n\n    while (i <= inputString.length && i <= threshold) {\n      if (inputString[i] === \" \") {\n        temp = i;\n      }\n\n      i++;\n    }\n\n    return temp !== -1 ? [inputString.slice(0, temp), inputString.slice(temp + 1)] : [inputString.slice(0, threshold), inputString.slice(threshold + 1)];\n  };\n\n  var tips = [];\n  var startTip = findSpaceBeforeThreshold(props.tip, 35 - (1 * fontSize - 11));\n  tips.push(startTip[0]);\n  var interimTip = startTip[1];\n  var leftover = startTip[1];\n\n  while (interimTip !== \"\") {\n    var currTip = findSpaceBeforeThreshold(interimTip === leftover ? interimTip : leftover, 35 - (1 * fontSize - 11));\n    interimTip = currTip[0];\n    leftover = currTip[1];\n    tips.push(interimTip === \"\" ? currTip[1] : currTip[0]);\n  }\n\n  return react_1.default.createElement(\"g\", {\n    pointerEvents: \"none\"\n  }, react_1.default.createElement(\"rect\", {\n    x: tooltipRect.x,\n    y: tooltipRect.y,\n    width: tooltipRect.w,\n    rx: 5,\n    ry: 5,\n    height: tooltipRect.h,\n    fill: bgColor,\n    visibility: hidden ? \"hidden\" : \"visible\"\n  }), react_1.default.createElement(\"polygon\", {\n    fill: bgColor,\n    visibility: hidden ? \"hidden\" : \"visible\",\n    points: points\n  }), react_1.default.createElement(\"text\", {\n    ref: textRef,\n    x: tooltipRect.x + 10,\n    y: tooltipRect.y,\n    cursor: \"default\",\n    fontFamily: fontFamily,\n    fontSize: fontSize,\n    fill: textColor,\n    visibility: hidden ? \"hidden\" : \"visible\"\n  }, props.tip.length > 35 - 1 * (fontSize - 11) ? tips.map(function (tip, index) {\n    return react_1.default.createElement(\"tspan\", {\n      key: tip,\n      x: tooltipRect.x + 10,\n      y: tooltipRect.y + (20 + (1 * fontSize - 11)) + 20 * index\n    }, tip);\n  }) : react_1.default.createElement(\"tspan\", {\n    x: tooltipRect.x + 10,\n    y: tooltipRect.y + (20 + (1 * fontSize - 11))\n  }, props.tip)));\n};","map":{"version":3,"sources":["C:/Users/bitcamp/Desktop/cofin-msa-board/frontend/node_modules/react-path-tooltip/dist/ReactPathTooltip.js"],"names":["Object","defineProperty","exports","value","PathTooltip","tslib_1","require","react_1","__importStar","props","useState","hidden","setHidden","x","y","w","h","isLeft","isTop","tooltipRect","setTooltipRect","fontSize","fontFamily","bgColor","textColor","pathRef","svgRef","textRef","createRef","useEffect","updateTooltip","e","current","svgRect","getBoundingClientRect","textRect","width","height","addEventListener","bottomRight","toString","bottomLeft","topRight","topLeft","points","findSpaceBeforeThreshold","inputString","threshold","i","temp","length","slice","tips","startTip","tip","push","interimTip","leftover","currTip","default","createElement","pointerEvents","rx","ry","fill","visibility","ref","cursor","map","index","key"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PathTooltip = void 0;\nconst tslib_1 = require(\"tslib\");\nconst react_1 = tslib_1.__importStar(require(\"react\"));\nexports.PathTooltip = (props) => {\n    const [hidden, setHidden] = react_1.useState(true);\n    const [tooltipRect, setTooltipRect] = react_1.useState({ x: 0, y: 0, w: 0, h: 0, isLeft: false, isTop: false });\n    const [fontSize,] = react_1.useState(props[\"fontSize\"] || 12);\n    const [fontFamily,] = react_1.useState(props[\"fontFamily\"] || \"sans-serif\");\n    const [bgColor,] = react_1.useState(props[\"bgColor\"] || \"black\");\n    const [textColor,] = react_1.useState(props[\"textColor\"] || \"white\");\n    const pathRef = props.pathRef;\n    const svgRef = props.svgRef;\n    const textRef = react_1.createRef();\n    react_1.useEffect(() => {\n        const updateTooltip = (e) => {\n            if (svgRef && pathRef && textRef && svgRef.current && pathRef.current && textRef.current) {\n                const svgRect = svgRef.current.getBoundingClientRect();\n                const textRect = textRef.current.getBoundingClientRect();\n                const isLeft = ((e.x - svgRect.x) > (svgRect.width / 2));\n                const isTop = ((e.y - svgRect.y) > (svgRect.height / 2));\n                const w = textRect.width + 20;\n                const h = textRect.height + 20;\n                const x = (isLeft) ? e.x - svgRect.x + 8 - w : e.x - svgRect.x - 8;\n                const y = (isTop) ? e.y - svgRect.y - 12 - h : e.y - svgRect.y + 8;\n                setTooltipRect({ x: x, y: y, w: w, h: h, isLeft: isLeft, isTop: isTop });\n            }\n        };\n        if (pathRef && pathRef.current) {\n            pathRef.current.addEventListener('mouseover', () => { setHidden(false); });\n            pathRef.current.addEventListener('mouseleave', () => { setHidden(true); });\n            pathRef.current.addEventListener('mousemove', (e) => { if (!hidden)\n                updateTooltip(e); });\n        }\n    }, [pathRef, svgRef, textRef, hidden]);\n    const bottomRight = (tooltipRect.x + 7).toString() + \",\" + (tooltipRect.y - 10).toString() + \" \" + (tooltipRect.x + 30).toString() + \",\" + tooltipRect.y.toString() + \" \" + (tooltipRect.x + 22).toString() + \",\" + tooltipRect.y.toString();\n    const bottomLeft = (tooltipRect.x + tooltipRect.w - 8).toString() + \",\" + (tooltipRect.y - 10).toString() + \" \" + (tooltipRect.x + tooltipRect.w - 25).toString() + \",\" + tooltipRect.y.toString() + \" \" + (tooltipRect.x + tooltipRect.w - 15).toString() + \",\" + tooltipRect.y.toString();\n    const topRight = (tooltipRect.x + 7).toString() + \",\" + (tooltipRect.y + tooltipRect.h + 10).toString() + \" \" + (tooltipRect.x + 15).toString() + \",\" + (tooltipRect.y + tooltipRect.h).toString() + \" \" + (tooltipRect.x + 7).toString() + \",\" + (tooltipRect.y + tooltipRect.h).toString();\n    const topLeft = (tooltipRect.x + tooltipRect.w - 7).toString() + \",\" + (tooltipRect.y + tooltipRect.h + 10).toString() + \" \" + (tooltipRect.x + tooltipRect.w - 15).toString() + \",\" + (tooltipRect.y + tooltipRect.h).toString() + \" \" + (tooltipRect.x + tooltipRect.w - 7).toString() + \",\" + (tooltipRect.y + tooltipRect.h).toString();\n    const points = (tooltipRect.isLeft && tooltipRect.isTop) ? topLeft : (tooltipRect.isTop) ? topRight : (tooltipRect.isLeft) ? bottomLeft : bottomRight;\n    const findSpaceBeforeThreshold = (inputString, threshold) => {\n        let i = 0;\n        let temp = -1;\n        if (inputString.length <= threshold) {\n            return [\"\", inputString];\n        }\n        while (i <= inputString.length && i <= threshold) {\n            if (inputString[i] === \" \") {\n                temp = i;\n            }\n            i++;\n        }\n        return temp !== -1 ? [inputString.slice(0, temp), inputString.slice(temp + 1)] : [inputString.slice(0, threshold), inputString.slice(threshold + 1)];\n    };\n    const tips = [];\n    const startTip = findSpaceBeforeThreshold(props.tip, 35 - (1 * fontSize - 11));\n    tips.push(startTip[0]);\n    let interimTip = startTip[1];\n    let leftover = startTip[1];\n    while (interimTip !== \"\") {\n        const currTip = findSpaceBeforeThreshold(interimTip === leftover ? interimTip : leftover, 35 - (1 * fontSize - 11));\n        interimTip = currTip[0];\n        leftover = currTip[1];\n        tips.push(interimTip === \"\" ? currTip[1] : currTip[0]);\n    }\n    return (react_1.default.createElement(\"g\", { pointerEvents: \"none\" },\n        react_1.default.createElement(\"rect\", { x: tooltipRect.x, y: tooltipRect.y, width: tooltipRect.w, rx: 5, ry: 5, height: tooltipRect.h, fill: bgColor, visibility: (hidden ? \"hidden\" : \"visible\") }),\n        react_1.default.createElement(\"polygon\", { fill: bgColor, visibility: (hidden ? \"hidden\" : \"visible\"), points: points }),\n        react_1.default.createElement(\"text\", { ref: textRef, x: tooltipRect.x + 10, y: tooltipRect.y, cursor: \"default\", fontFamily: fontFamily, fontSize: fontSize, fill: textColor, visibility: (hidden ? \"hidden\" : \"visible\") }, props.tip.length > 35 - (1 * (fontSize - 11))\n            ?\n                tips.map((tip, index) => {\n                    return (react_1.default.createElement(\"tspan\", { key: tip, x: tooltipRect.x + 10, y: tooltipRect.y + (20 + (1 * fontSize - 11)) + (20 * (index)) }, tip));\n                })\n            :\n                react_1.default.createElement(\"tspan\", { x: tooltipRect.x + 10, y: tooltipRect.y + (20 + (1 * fontSize - 11)) }, props.tip))));\n};\n"]},"metadata":{},"sourceType":"script"}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bitcamp\\\\Desktop\\\\cofin-msa-board\\\\frontend\\\\src\\\\features\\\\chatbot\\\\components\\\\ChatModules.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { answer, answerStatus } from \"features/chatbot/reducer/chatbotSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function Ask(props) {\n  _s();\n\n  const dispatch = useDispatch();\n  const [text, setText] = useState('');\n  const key = props.previousStep.key;\n  const botAnswer = {\n    [key]: useSelector(state => state.chatbot.answersState[key])\n  };\n  useEffect(() => {\n    setText(props.steps.userinput.value);\n    dispatch(answer({\n      'key': props.previousStep.key,\n      'query': props.steps.userinput.value\n    }));\n  }, [text]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: text == \"체크리스트\" ? /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => props.triggerNextStep({\n        trigger: 'fever'\n      }),\n      style: {\n        border: \"0.5px\",\n        background: 'burlywood',\n        borderRadius: \"9px\",\n        margin: \"1em 2em 5px 2em\",\n        cursor: \"pointer\",\n        boxShadow: \"1px 1px 3px 1px #cbbab0\"\n      },\n      children: \"\\uBC31\\uC2E0 \\uC811\\uC885 \\uC99D\\uC0C1 \\uCCB4\\uD06C\\uD558\\uAE30!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 28\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: botAnswer[key]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 19\n    }, this)\n  }, void 0, false);\n}\n\n_s(Ask, \"rds1q2Ks6X+cc8YDpwzyilsPYBs=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Ask;\nexport function CheckStatus(props) {\n  _s2();\n\n  const dispatch = useDispatch();\n  const pain_arr = ['fever', 'ino_area', 'swell', 'sick', 'pain', 'fatigue', 'allergy', 'etc', 'welcome'];\n  const symptom = props.previousStep.value.slice(0, -1);\n  const choice = useSelector(state => state.chatbot.healthStates[symptom]);\n  useEffect(() => {\n    dispatch(answerStatus({\n      'symptom': symptom,\n      'details': props.previousStep.message\n    }));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: choice['answer']\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      style: {\n        border: \"0.5px\",\n        background: 'burlywood',\n        borderRadius: \"9px\",\n        margin: \"0.7em auto\",\n        cursor: \"pointer\",\n        boxShadow: \"1px 1px 3px 1px #cbbab0\",\n        width: \"10em\",\n        display: \"block\"\n      },\n      onClick: () => {\n        try {\n          if (props.previousStep.value.slice(-1) > 2) {\n            window.localStorage.setItem(\"counter\", parseInt(localStorage.getItem(\"counter\")) + 1);\n          }\n\n          props.triggerNextStep(pain_arr.indexOf(symptom) + 1 < 8 ? {\n            trigger: pain_arr[pain_arr.indexOf(symptom) + 1]\n          } : {\n            trigger: 'alert'\n          });\n        } catch (error) {}\n      },\n      children: \"\\uC774\\uC5B4\\uC11C \\uC9C4\\uD589\\uD558\\uAE30\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      style: {\n        border: \"0.5px\",\n        background: 'burlywood',\n        borderRadius: \"9px\",\n        margin: \"0.5em auto\",\n        cursor: \"pointer\",\n        boxShadow: \"1px 1px 3px 1px #cbbab0\",\n        width: \"10em\",\n        display: \"block\"\n      },\n      onClick: () => {\n        if (props.previousStep.value.slice(-1) > 2) {\n          window.localStorage.setItem(\"counter\", parseInt(localStorage.getItem(\"counter\")) + 1);\n        }\n\n        props.triggerNextStep({\n          trigger: 'alert'\n        });\n      },\n      children: \"\\uADF8\\uB9CC\\uD558\\uAE30\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s2(CheckStatus, \"5Qf/V5CFkJYpWSp5ZVXefpJWkqM=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c2 = CheckStatus;\nexport function AlertMessage() {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: localStorage.getItem(\"counter\") == 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"\\uC8FC\\uC694 \\uC774\\uC0C1 \\uBC18\\uC751\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"\\uC8FC\\uC694 \\uC774\\uC0C1 \\uBC18\\uC751\\uC774 '\", localStorage.getItem(\"counter\"), \"' \\uAC74 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uAC00\\uAE4C\\uC6B4 \\uC758\\uB8CC\\uAE30\\uAD00\\uC5D0 \\uBC29\\uBB38\\uD558\\uC2DC\\uAE30\\uB97C \\uCD94\\uCC9C\\uB4DC\\uB9BD\\uB2C8\\uB2E4.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n_c3 = AlertMessage;\nexport function ResetMessage() {\n  // localStorage.setItem(\"counter\", 0)\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"\\uB610 \\uB2E4\\uB978 \\uAD81\\uAE08\\uD558\\uC2E0 \\uBD80\\uBD84\\uC774 \\uC788\\uB098\\uC694?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_c4 = ResetMessage;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Ask\");\n$RefreshReg$(_c2, \"CheckStatus\");\n$RefreshReg$(_c3, \"AlertMessage\");\n$RefreshReg$(_c4, \"ResetMessage\");","map":{"version":3,"sources":["C:/Users/bitcamp/Desktop/cofin-msa-board/frontend/src/features/chatbot/components/ChatModules.js"],"names":["useEffect","useState","useDispatch","useSelector","answer","answerStatus","Ask","props","dispatch","text","setText","key","previousStep","botAnswer","state","chatbot","answersState","steps","userinput","value","triggerNextStep","trigger","border","background","borderRadius","margin","cursor","boxShadow","CheckStatus","pain_arr","symptom","slice","choice","healthStates","message","width","display","window","localStorage","setItem","parseInt","getItem","indexOf","error","AlertMessage","ResetMessage"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { answer, answerStatus } from \"features/chatbot/reducer/chatbotSlice\"\r\n\r\nexport function Ask(props){\r\n    const dispatch = useDispatch()\r\n    const [ text, setText ] = useState('')\r\n    const key = props.previousStep.key\r\n    const botAnswer = {\r\n      [key]:useSelector((state)=>state.chatbot.answersState[key])\r\n    }\r\n    useEffect(()=>{\r\n      setText(props.steps.userinput.value)\r\n      dispatch(answer({'key': props.previousStep.key,'query':props.steps.userinput.value}))\r\n    },[text])\r\n      return (\r\n        <>\r\n        {/* <div>{text}이(가) 라고 질문하신 것이 맞습니까?</div> */}\r\n        {text == \"체크리스트\" ? <button onClick={() => props.triggerNextStep({trigger: 'fever'})} \r\n        style={{border:\"0.5px\", background:'burlywood', borderRadius: \"9px\", margin: \"1em 2em 5px 2em\", cursor: \"pointer\", boxShadow: \"1px 1px 3px 1px #cbbab0\"}} >\r\n          백신 접종 증상 체크하기!\r\n        </button>:<div>{botAnswer[key]}</div>}\r\n        </>\r\n      );\r\n  }\r\n  \r\n  \r\n  export function CheckStatus(props){\r\n    const dispatch = useDispatch()\r\n    const pain_arr = ['fever', 'ino_area', 'swell', 'sick', 'pain', 'fatigue', 'allergy', 'etc', 'welcome']\r\n    const symptom = props.previousStep.value.slice(0, -1)\r\n    const choice = useSelector((state)=>state.chatbot.healthStates[symptom])\r\n    useEffect(()=>{\r\n      dispatch(answerStatus({'symptom': symptom, 'details':props.previousStep.message}))\r\n    },[])\r\n      return (\r\n        <>\r\n        <div>{choice['answer']}</div>\r\n        <button style={{border:\"0.5px\", background:'burlywood', borderRadius: \"9px\", margin: \"0.7em auto\", \r\n                        cursor: \"pointer\", boxShadow: \"1px 1px 3px 1px #cbbab0\", width: \"10em\", display: \"block\"}} \r\n                onClick={() => {\r\n                  try {\r\n                    if(props.previousStep.value.slice(-1)>2){\r\n                      window.localStorage.setItem(\"counter\", parseInt(localStorage.getItem(\"counter\"))+1)\r\n                    }\r\n                    props.triggerNextStep((pain_arr.indexOf(symptom)+1) < 8 ? {trigger: pain_arr[pain_arr.indexOf(symptom)+1]} : {trigger: 'alert'})\r\n                  } catch (error) {\r\n                  }\r\n                }}>\r\n          이어서 진행하기\r\n        </button>\r\n        <button style={{border:\"0.5px\", background:'burlywood', borderRadius: \"9px\", margin: \"0.5em auto\", \r\n                        cursor: \"pointer\", boxShadow: \"1px 1px 3px 1px #cbbab0\", width: \"10em\", display: \"block\"}} \r\n                onClick={() => {\r\n                  if(props.previousStep.value.slice(-1)>2){\r\n                    window.localStorage.setItem(\"counter\", parseInt(localStorage.getItem(\"counter\"))+1)\r\n                  }\r\n                  props.triggerNextStep({trigger: 'alert'})\r\n                }}>\r\n          그만하기\r\n        </button>\r\n        </>\r\n      );\r\n  }\r\n  \r\n  export function AlertMessage(){\r\n    return(<>\r\n    {\r\n      localStorage.getItem(\"counter\") == 0\r\n      ? <div>주요 이상 반응이 없습니다.</div>\r\n      : <div>주요 이상 반응이 '{localStorage.getItem(\"counter\")}' 건 있습니다. 가까운 의료기관에 방문하시기를 추천드립니다.</div>\r\n    }\r\n    </>)\r\n  }\r\n  \r\n  export function ResetMessage(){\r\n    // localStorage.setItem(\"counter\", 0)\r\n    return(<>\r\n      <div>\r\n        또 다른 궁금하신 부분이 있나요?\r\n      </div>\r\n    </>)\r\n  }"]},"metadata":{},"sourceType":"module"}